{"ast":null,"code":"var _jsxFileName = \"/Users/jesus.esteban/Workspace/f1/src/map/map.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { Map, TileLayer } from 'react-leaflet';\nimport Control from 'react-leaflet-control';\nconst stamenTonerTiles = 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png'; // Ejemplos de mapas https://leaflet-extras.github.io/leaflet-providers/preview/\n\nconst stamenTonerAttr = 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>';\nconst mapCenter = [40.1301919, -8.2008354];\nconst zoomLevel = 3;\n/* Circuit Array */\n\nvar listCircuit = [];\n/* LINK api Circuits F1*/\n\nvar url = 'https://ergast.com/api/f1/circuits.json?limit=100';\n/* AJAX Request */\n\nvar resultados = [];\n\nfunction peticionAjax(url, callback) {\n  var peticion = new XMLHttpRequest();\n  peticion.open('GET', url);\n\n  peticion.onreadystatechange = function () {\n    if (this.readyState === 4) {\n      callback(this.responseText);\n    }\n  };\n\n  peticion.send();\n}\n\nconsole.log(\"lfkdsñlf\"); // /* Callback */\n// peticionAjax(url, function(data){ \n//   resultados= JSON.parse(data);\n//   printRace();\n//   return resultados;\n// });\n// /* Show circuits in select*/\n// function printRace(){\n//     var resultApi = resultados.MRData.CircuitTable.Circuits;\n//     for (var i = 0; i < resultApi.length; i++) {\n//       var showCircuitId = resultApi[i].circuitId;\n//       var showCircuit = resultApi[i].circuitName;\n//       selectCircuit.innerHTML += '<option id=\"' + showCircuitId + '\" value=\"' + showCircuitId + '\" name=\"circuit\">' + showCircuit +'</option>' ;\n//     }\n//   }\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentZoomLevel: zoomLevel\n    };\n    this.handleUpPanClick = this.handleUpPanClick.bind(this);\n    this.handleRightPanClick = this.handleRightPanClick.bind(this);\n    this.handleLeftPanClick = this.handleLeftPanClick.bind(this);\n    this.handleDownPanClick = this.handleDownPanClick.bind(this);\n  }\n\n  componentDidMount() {\n    const leafletMap = this.leafletMap.leafletElement;\n    leafletMap.on('zoomend', () => {\n      const updatedZoomLevel = leafletMap.getZoom();\n      this.handleZoomLevelChange(updatedZoomLevel);\n    });\n  }\n\n  handleZoomLevelChange(newZoomLevel) {\n    this.setState({\n      currentZoomLevel: newZoomLevel\n    });\n  }\n\n  handleUpPanClick() {\n    const leafletMap = this.leafletMap.leafletElement;\n    leafletMap.panBy([0, -100]);\n    window.console.log('Panning up');\n  }\n\n  handleRightPanClick() {\n    const leafletMap = this.leafletMap.leafletElement;\n    leafletMap.panBy([100, 0]);\n    window.console.log('Panning right');\n  }\n\n  handleLeftPanClick() {\n    const leafletMap = this.leafletMap.leafletElement;\n    leafletMap.panBy([-100, 0]);\n    window.console.log('Panning left');\n  }\n\n  handleDownPanClick() {\n    const leafletMap = this.leafletMap.leafletElement;\n    leafletMap.panBy([0, 100]);\n    window.console.log('Panning down');\n  }\n\n  render() {\n    window.console.log('this.state.currentZoomLevel ->', this.state.currentZoomLevel);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"selectCircuit\",\n      onchange: \"recoveryId(this)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Ciruit selection\")), React.createElement(Map, {\n      ref: m => {\n        this.leafletMap = m;\n      },\n      center: mapCenter,\n      zoom: zoomLevel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      attribution: stamenTonerAttr,\n      url: stamenTonerTiles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Control, {\n      position: \"topright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginLeft: '37px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleUpPanClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Pan up\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleLeftPanClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Pan left\"), React.createElement(\"button\", {\n      onClick: this.handleRightPanClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Pan right\")), React.createElement(\"div\", {\n      style: {\n        marginLeft: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleDownPanClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Pan down\"))))));\n  }\n\n}\nrender(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 152\n  },\n  __self: this\n}), document.getElementById('mount'));","map":{"version":3,"sources":["/Users/jesus.esteban/Workspace/f1/src/map/map.js"],"names":["React","Component","render","Map","TileLayer","Control","stamenTonerTiles","stamenTonerAttr","mapCenter","zoomLevel","listCircuit","url","resultados","peticionAjax","callback","peticion","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","console","log","App","constructor","props","state","currentZoomLevel","handleUpPanClick","bind","handleRightPanClick","handleLeftPanClick","handleDownPanClick","componentDidMount","leafletMap","leafletElement","on","updatedZoomLevel","getZoom","handleZoomLevelChange","newZoomLevel","setState","panBy","window","m","marginLeft","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { Map, TileLayer } from 'react-leaflet';\nimport Control from 'react-leaflet-control';\n\nconst stamenTonerTiles = 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png';\n// Ejemplos de mapas https://leaflet-extras.github.io/leaflet-providers/preview/\nconst stamenTonerAttr = 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>';\nconst mapCenter = [40.1301919, -8.2008354];\nconst zoomLevel = 3;\n\n\n/* Circuit Array */\nvar listCircuit = [];\n\n/* LINK api Circuits F1*/\nvar url = 'https://ergast.com/api/f1/circuits.json?limit=100';\n\n\n/* AJAX Request */\nvar resultados = [];\n\nfunction peticionAjax(url, callback) { \n    var peticion = new XMLHttpRequest();\n    \n    peticion.open('GET', url);\n    peticion.onreadystatechange = function () {\n        if (this.readyState === 4) {\n          callback(this.responseText); \n        }\n      };\n    peticion.send();\n}\n\nconsole.log(\"lfkdsñlf\");\n\n\n// /* Callback */\n// peticionAjax(url, function(data){ \n//   resultados= JSON.parse(data);\n//   printRace();\n//   return resultados;\n// });\n\n// /* Show circuits in select*/\n// function printRace(){\n//     var resultApi = resultados.MRData.CircuitTable.Circuits;\n//     for (var i = 0; i < resultApi.length; i++) {\n//       var showCircuitId = resultApi[i].circuitId;\n//       var showCircuit = resultApi[i].circuitName;\n//       selectCircuit.innerHTML += '<option id=\"' + showCircuitId + '\" value=\"' + showCircuitId + '\" name=\"circuit\">' + showCircuit +'</option>' ;\n//     }\n//   }\n  \n\n\n\n\nexport default class App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { currentZoomLevel: zoomLevel };\n        this.handleUpPanClick = this.handleUpPanClick.bind(this);\n        this.handleRightPanClick = this.handleRightPanClick.bind(this);\n        this.handleLeftPanClick = this.handleLeftPanClick.bind(this);\n        this.handleDownPanClick = this.handleDownPanClick.bind(this);\n    }\n\n    componentDidMount() {\n        const leafletMap = this.leafletMap.leafletElement;\n        leafletMap.on('zoomend', () => {\n            const updatedZoomLevel = leafletMap.getZoom();\n            this.handleZoomLevelChange(updatedZoomLevel);\n        });\n    }\n\n    handleZoomLevelChange(newZoomLevel) {\n        this.setState({ currentZoomLevel: newZoomLevel });\n    }\n\n    handleUpPanClick() {\n        const leafletMap = this.leafletMap.leafletElement;\n        leafletMap.panBy([0, -100]);\n        window.console.log('Panning up');\n    }\n\n    handleRightPanClick() {\n        const leafletMap = this.leafletMap.leafletElement;\n        leafletMap.panBy([100, 0]);\n        window.console.log('Panning right');\n    }\n\n    handleLeftPanClick() {\n        const leafletMap = this.leafletMap.leafletElement;\n        leafletMap.panBy([-100, 0]);\n        window.console.log('Panning left');\n    }\n\n    handleDownPanClick() {\n        const leafletMap = this.leafletMap.leafletElement;\n        leafletMap.panBy([0, 100]);\n        window.console.log('Panning down');\n    }\n\n    render() {\n        window.console.log('this.state.currentZoomLevel ->', this.state.currentZoomLevel);\n\n        return (\n            <div>\n                <select id=\"selectCircuit\" onchange=\"recoveryId(this)\">\n                    <option value=\"\">Ciruit selection</option>\n                </select>\n\n                <Map\n                    ref={m => { this.leafletMap = m; }}\n                    center={mapCenter}\n                    zoom={zoomLevel}\n                >\n                    <TileLayer\n                        attribution={stamenTonerAttr}\n                        url={stamenTonerTiles}\n                    />\n                    <Control position=\"topright\">\n                        <div>\n                            <div style={{ marginLeft: '37px' }}>\n                                <button onClick={this.handleUpPanClick}>\n                                    Pan up\n                                </button>\n                            </div>\n                            <div>\n                                <button onClick={this.handleLeftPanClick}>\n                                    Pan left\n                                </button>\n                                <button onClick={this.handleRightPanClick}>\n                                    Pan right\n                                </button>\n                            </div>\n                            <div style={{ marginLeft: '30px' }}>\n                                <button onClick={this.handleDownPanClick}>\n                                    Pan down\n                                </button>\n                            </div>\n                        </div>\n                    </Control>\n                </Map>\n            </div>\n        );\n    }\n}\n\nrender(\n    <App />,\n    document.getElementById('mount')\n);\n"]},"metadata":{},"sourceType":"module"}