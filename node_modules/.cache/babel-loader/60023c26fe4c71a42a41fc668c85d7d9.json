{"ast":null,"code":"var _jsxFileName = \"/Users/jesus.esteban/Workspace/f1/src/components/map/map.js\";\nimport React, { Component } from 'react';\nimport { Map, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport Control from 'react-leaflet-control'; // Map Styles\n\nconst mapStyled = 'https://api.mapbox.com/styles/v1/jesusesteban/ck17xq26f05nr1cqgeafvjwxs/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiamVzdXNlc3RlYmFuIiwiYSI6ImNqc3VlY3EydTAxdDMzeXB2a2NycXJxZTIifQ.6Jxvu3C-J7-XWRjCVdMwdw'; //const mapStyled = 'https://api.mapbox.com/styles/v1/jesusesteban/cjyn1qsf100x61cpk2cjvnvij/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiamVzdXNlc3RlYmFuIiwiYSI6ImNqc3VlY3EydTAxdDMzeXB2a2NycXJxZTIifQ.6Jxvu3C-J7-XWRjCVdMwdw';\n//const mapStyled = 'https://api.mapbox.com/styles/v1/jesusesteban/cjynakrxe1jzk1cqco7zdva6j/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiamVzdXNlc3RlYmFuIiwiYSI6ImNqc3VlY3EydTAxdDMzeXB2a2NycXJxZTIifQ.6Jxvu3C-J7-XWRjCVdMwdw';\n\nexport default class CircuitMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      zoomLevel: 2.5,\n      mapCenter: [26.9837669, -60.2810849],\n      circuits: []\n    };\n    this.handleClickMarker = this.handleClickMarker.bind(this);\n    this.handleResetZoom = this.handleResetZoom.bind(this);\n  }\n\n  componentDidMount() {// const leafletMap = this.leafletMap.leafletElement;\n    // leafletMap.on('zoomend', () => {\n    //     const updatedZoomLevel = leafletMap.getZoom();\n    //     this.handleZoomLevelChange(updatedZoomLevel);\n    // });     \n  }\n\n  handleResetZoom(e) {\n    this.setState({\n      zoomLevel: 3\n    });\n  }\n\n  handleClickMarker(e) {\n    const latlng = e.latlng;\n    const lat = latlng.lat,\n          lng = latlng.lng;\n    this.setState({\n      zoomLevel: 16,\n      mapCenter: [lat, lng]\n    });\n    console.log(e);\n  }\n\n  getPolyLineArray() {\n    const circuitsCoordinates = this.props.circuits.map(circuit => {\n      return [circuit.Location.lat, circuit.Location.long];\n    });\n    return circuitsCoordinates;\n  }\n\n  render() {\n    const circuits = this.props.circuits;\n    const _this$state = this.state,\n          zoomLevel = _this$state.zoomLevel,\n          mapCenter = _this$state.mapCenter;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Map, {\n      ref: ref => {\n        this.map = ref;\n      },\n      center: mapCenter,\n      zoom: zoomLevel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      attribution: \"Jesús Esteban\",\n      url: mapStyled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), circuits.map(circuit => {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Marker, {\n        position: [circuit.Location.lat, circuit.Location.long],\n        onClick: e => this.handleClickMarker(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }));\n    }), React.createElement(Polyline, {\n      color: \"#F1C40F\",\n      weight: \"1\",\n      positions: this.getPolyLineArray(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Control, {\n      position: \"topright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginLeft: '37px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleResetZoom,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Reset Zoom\"))))));\n  }\n\n} // Recursos\n// https://towardsdatascience.com/creating-a-bubbles-map-using-react-leaflet-e75124ca1cd2\n// Ejemplos de mapas https://leaflet-extras.github.io/leaflet-providers/preview/\n// https://github.com/humangeo/leaflet-dvf/wiki/2.-Examples\n// http://www.liedman.net/leaflet-routing-machine/\n// http://rowanwins.github.io/leaflet-easyPrint/\n// https://github.com/dwilhelm89/Leaflet.StyleEditor","map":{"version":3,"sources":["/Users/jesus.esteban/Workspace/f1/src/components/map/map.js"],"names":["React","Component","Map","TileLayer","Marker","Popup","Polyline","Control","mapStyled","CircuitMap","constructor","props","state","zoomLevel","mapCenter","circuits","handleClickMarker","bind","handleResetZoom","componentDidMount","e","setState","latlng","lat","lng","console","log","getPolyLineArray","circuitsCoordinates","map","circuit","Location","long","render","ref","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Map, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport Control from 'react-leaflet-control';\n\n// Map Styles\nconst mapStyled = 'https://api.mapbox.com/styles/v1/jesusesteban/ck17xq26f05nr1cqgeafvjwxs/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiamVzdXNlc3RlYmFuIiwiYSI6ImNqc3VlY3EydTAxdDMzeXB2a2NycXJxZTIifQ.6Jxvu3C-J7-XWRjCVdMwdw';\n//const mapStyled = 'https://api.mapbox.com/styles/v1/jesusesteban/cjyn1qsf100x61cpk2cjvnvij/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiamVzdXNlc3RlYmFuIiwiYSI6ImNqc3VlY3EydTAxdDMzeXB2a2NycXJxZTIifQ.6Jxvu3C-J7-XWRjCVdMwdw';\n//const mapStyled = 'https://api.mapbox.com/styles/v1/jesusesteban/cjynakrxe1jzk1cqco7zdva6j/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiamVzdXNlc3RlYmFuIiwiYSI6ImNqc3VlY3EydTAxdDMzeXB2a2NycXJxZTIifQ.6Jxvu3C-J7-XWRjCVdMwdw';\n\n\n\nexport default class CircuitMap extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = { \n            zoomLevel: 2.5,\n            mapCenter: [26.9837669, -60.2810849],\n            circuits: []\n        };\n        this.handleClickMarker = this.handleClickMarker.bind(this)\n        this.handleResetZoom = this.handleResetZoom.bind(this);\n    }\n\n\n    componentDidMount() {\n        // const leafletMap = this.leafletMap.leafletElement;\n        // leafletMap.on('zoomend', () => {\n        //     const updatedZoomLevel = leafletMap.getZoom();\n        //     this.handleZoomLevelChange(updatedZoomLevel);\n        // });     \n    }\n\n\n    handleResetZoom(e) {\n        this.setState({ \n            zoomLevel: 3 \n        });\n    }\n    handleClickMarker(e){        \n        const { latlng } = e;\n        const { lat, lng } = latlng;\n        this.setState({ \n            zoomLevel: 16,\n            mapCenter: [lat,lng]\n         });\n         console.log(e);\n    }\n\n\n    getPolyLineArray() {\n        const circuitsCoordinates = this.props.circuits.map(circuit => {\n            return [circuit.Location.lat, circuit.Location.long];\n        });\n        return circuitsCoordinates;\n    }\n\n        \n    render() {\n\n        const { circuits } = this.props;\n        const { zoomLevel, mapCenter } = this.state;\n        \n\n        return (\n            <div>\n                <Map\n                    ref={(ref) => { this.map = ref; }}\n                    center={mapCenter}\n                    zoom={zoomLevel}\n                    >\n                <TileLayer\n                    attribution={\"Jesús Esteban\"}\n                    url={mapStyled}\n                    />\n\n                {circuits.map((circuit) => {\n                    return (\n                        <React.Fragment>\n                            <Marker \n                                position={[circuit.Location.lat, circuit.Location.long]}\n                                onClick={ e=> this.handleClickMarker(e)}   \n                            >\n                                {/* <Popup>\n                                    <ul className={\"list-popup\"}>\n                                        <li className={\"title\"}><span>{circuit.circuitName}</span></li>\n                                        <li>\n                                            <span>{circuit.Location.locality} </span>\n                                            /\n                                            <span> {circuit.Location.country}</span>\n                                        </li>\n                                        <li>\n                                            <a href={circuit.url} target=\"_blank\">Wikipedia</a>\n                                        </li>\n                                    </ul>\n                                    \n                                </Popup> */}\n                            </Marker>     \n                        </React.Fragment>                        \n                    )\n                    })\n                }                \n\n                <Polyline color=\"#F1C40F\"  weight=\"1\" positions={this.getPolyLineArray()}/>\n\n\n\n\n                <Control position=\"topright\">\n                    <div>\n                        <div style={{ marginLeft: '37px' }}>\n                            <button onClick={this.handleResetZoom}>\n                                Reset Zoom\n                            </button>\n                        </div>\n                    </div>\n                </Control>\n                </Map>\n            </div>\n        );\n    }\n}\n\n\n\n\n\n\n\n// Recursos\n// https://towardsdatascience.com/creating-a-bubbles-map-using-react-leaflet-e75124ca1cd2\n// Ejemplos de mapas https://leaflet-extras.github.io/leaflet-providers/preview/\n// https://github.com/humangeo/leaflet-dvf/wiki/2.-Examples\n// http://www.liedman.net/leaflet-routing-machine/\n// http://rowanwins.github.io/leaflet-easyPrint/\n// https://github.com/dwilhelm89/Leaflet.StyleEditor"]},"metadata":{},"sourceType":"module"}